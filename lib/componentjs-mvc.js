(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ComponentJSMVC = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
var mkProperty=function(n,t,r,i){void 0===i&&(i=!0),Object.defineProperty(n,t,{configurable:!1,enumerable:!1,writable:i,value:r})},Latching=function(){mkProperty(this,"_latching_reg",{}),mkProperty(this,"_latching_cnt",0),mkProperty(this,"_latching_proc",{}),mkProperty(this,"_latching_plugin",{}),this.proc("none",function(){},function(){}),this.proc("pass",function(n){return n[0]},function(n,t){return t}),this.proc("or",function(){return!1},function(n,t){return n||t}),this.proc("and",function(){return!0},function(n,t){return n&&t}),this.proc("mult",function(){return 1},function(n,t){return n*t}),this.proc("add",function(){return 0},function(n,t){return n+t}),this.proc("append",function(){return""},function(n,t){return n+t}),this.proc("push",function(){return[]},function(n,t){return n.push(t),n}),this.proc("concat",function(){return[]},function(n,t){return n.concat(t)}),this.proc("insert",function(){return{}},function(n,t){return n[t]=!0,n}),this.proc("assign",function(){return{}},function(n,t){Object.keys(t).forEach(function(r){n[r]=t[r]})})};Latching.prototype={proc:function(n,t,r){if(3!==arguments.length)throw new Error("proc: invalid number of arguments");if("string"!=typeof n)throw new Error("proc: invalid name argument (has to be string)");if("function"!=typeof t)throw new Error("proc: invalid init argument (has to be function)");if("function"!=typeof r)throw new Error("proc: invalid step argument (has to be function)");return this._latching_proc[n]={init:t,step:r},this},at:function(){return this.latch.apply(this,arguments)},latch:function(n,t,r,i){if(arguments.length<2||arguments.length>4)throw new Error("latch: invalid number of arguments");void 0===this._latching_reg[n]&&(this._latching_reg[n]=[]);var o=this._latching_cnt++,e={id:o,cb:t,ctx:r};return i?this._latching_reg[n].unshift(e):this._latching_reg[n].push(e),o},unlatch:function(n,t){if(2!==arguments.length)throw new Error("unlatch: invalid number of arguments");if(void 0===this._latching_reg[n])throw new Error('unlatch: no such hook "'+n+'"');for(var r=-1,i=0;i<this._latching_reg[n].length;i++)if(this._latching_reg[n][i].id===t){r=i;break}if(-1===r)throw new Error("unlatch: no such latched callback");return this._latching_reg[n].splice(r,1),this},hook:function(n,t){if(arguments.length<2)throw new Error("hook: invalid number of arguments");if(void 0===this._latching_proc[t])throw new Error("hook: no such result processing defined");var r=Array.prototype.slice.call(arguments,2),i=this._latching_proc[t].init.call(null,r);if(void 0!==this._latching_reg[n])for(var o=0;o<this._latching_reg[n].length;o++){var e=this._latching_reg[n][o],c=!1,u=function(){c=!0},h=e.cb.apply(e.ctx,r.concat([i,u]));if(i=this._latching_proc[t].step.call(null,i,h),c)break}return i},use:function(n,t){if("object"!=typeof n&&"function"!=typeof n)throw new Error("use: invalid plugin argument (object or function/class expected)");"function"==typeof n&&(n=new n);var r=this._latching_cnt++,i={id:r,plugin:n};if(this._latching_plugin[r]=i,"function"!=typeof n.use)throw new Error('use: invalid plugin (method "use" expected)');return void 0===t&&(t={}),n.use(this,t),r},unuse:function(n){if(1!==arguments.length)throw new Error("unuse: invalid number of arguments");if(void 0===this._latching_plugins[n])throw new Error("unuse: no such plugin found");var t=this._latching_plugins[n].plugin;return"function"==typeof t.unuse&&t.unuse(this),this._latching_plugins[n].plugin=null,delete this._latching_plugins[n],this}},module.exports=Latching;
},{}],2:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();exports.default=function(n){return function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"cs",value:function(){return n.ComponentJS.apply(n,arguments)}},{key:"establish",value:function(){var e=this;this.__ComponentJS_MVC_comp||(this.__ComponentJS_MVC_comp={});for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];"string"==typeof o[0]&&"string"==typeof o[1]||o.unshift("");var i=o[0],a=o[1],u=o[2],s=o[3],c=void 0===s||s,p=o[4],f=void 0!==p&&p;"object"===(void 0===u?"undefined":_typeof(u))&&u instanceof Array||(u=[u]);var l=u.map(function(n){return"function"==typeof n?new n:n}),_=""!==i?n.ComponentJS(this,i):n.ComponentJS(this);return _.create.apply(_,[a].concat(_toConsumableArray(l))),l.forEach(function(t){var o=n.ComponentJS(t),r=o.name();e.__ComponentJS_MVC_comp[r]=t,o.state_auto_increase(c),o.state_auto_decrease(f),n.hook("establish:post-create","none",{id:r,comp:o,obj:t})}),this}},{key:"demolish",value:function(e){var t=this;if(this.__ComponentJS_MVC_comp||(this.__ComponentJS_MVC_comp={}),void 0===e)Object.keys(this.__ComponentJS_MVC_comp).forEach(function(n){return t.unconstruct(n)});else{if(void 0===this.__ComponentJS_MVC_comp[e])throw new Error('demolish: no such component "'+e+'"');var o=this.__ComponentJS_MVC_comp[e],r=n.ComponentJS(o);n.hook("demolish:pre-destroy","none",{id:e,comp:r,obj:o}),r.destroy(),delete this.__ComponentJS_MVC_comp[e]}return this}},{key:"my",value:function(n){if(this.__ComponentJS_MVC_comp||(this.__ComponentJS_MVC_comp={}),void 0===this.__ComponentJS_MVC_comp[n])throw new Error('my: no such component "'+n+'"');return this.__ComponentJS_MVC_comp[n]}},{key:"exists",value:function(n){return this.__ComponentJS_MVC_comp&&this.__ComponentJS_MVC_comp[n]}},{key:"state",value:function(){var e;return(e=n.ComponentJS(this)).state.apply(e,arguments)}},{key:"guard",value:function(){var e;return(e=n.ComponentJS(this)).guard.apply(e,arguments)}},{key:"await",value:function(){var e;return(e=n.ComponentJS(this)).await.apply(e,arguments)}},{key:"observe",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"===(void 0===e?"undefined":_typeof(e))&&e instanceof Array||(e=[e]),e.forEach(function(e){var i=_extends({},{spool:n.ComponentJS(o).state(),noevent:!0},r,{name:e,func:t});modelOf(n.ComponentJS(o)).observe(i)}),this}},{key:"value",value:function(){var e;return(e=modelOf(n.ComponentJS(this))).value.apply(e,arguments)}},{key:"touch",value:function(){var e;return(e=modelOf(n.ComponentJS(this))).touch.apply(e,arguments),this}},{key:"subscribe",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"===(void 0===e?"undefined":_typeof(e))&&e instanceof Array||(e=[e]),e.forEach(function(e){var i=_extends({},{spool:n.ComponentJS(o).state(),noevent:!0,capturing:!1,spreading:!1,bubbling:!0},r,{name:e,func:t});return n.ComponentJS(o).subscribe(i)}),this}},{key:"publish",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;"object"===(void 0===t?"undefined":_typeof(t))&&t instanceof Array||(r=[t]);var i=_extends({},{directresult:!0,capturing:!0,spreading:!1,bubbling:!0},o,{name:e,args:r});return n.ComponentJS(this).publish(i)}},{key:"register",value:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"===(void 0===e?"undefined":_typeof(e))&&e instanceof Array||(e=[e]),e.forEach(function(e){var i=_extends({},{spool:n.ComponentJS(o).state(),capturing:!1,spreading:!1,bubbling:!0},r,{name:e,func:t});return n.ComponentJS(o).register(i)}),this}},{key:"call",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;"object"===(void 0===t?"undefined":_typeof(t))&&t instanceof Array||(r=[t]);var i=_extends({},{capturing:!0,spreading:!1,bubbling:!0},o,{name:e,args:r});return n.ComponentJS(this).call(i)}}]),e}()};function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var modelOf=function(n){if(n.marked("controller"))for(var e=n.children(),t=0;t<e.length;t++)if(e[t].marked("model"))return e[t];return n};
},{}],3:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();exports.default=function(e){return function(t){_inherits(o,e.Component);function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _createClass(o,[{key:"$",value:function(){if("function"!=typeof e.jQuery)throw new Error("$: requires jQuery");return e.jQuery.apply(e,arguments)}},{key:"mask",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.ComponentJS.plugin("vue"))throw new Error("mask: requires ComponentJS Vue plugin");if("object"===_typeof(o.render)&&"function"==typeof o.render.render&&"object"===_typeof(o.render.staticRenderFns)&&o.render.staticRenderFns instanceof Array){var r=o.render,n=r.render,i=r.staticRenderFns;o.render=n,o.staticRenderFns=i}if(void 0===o.template&&void 0===o.render){if("function"!=typeof e.jQuery)throw new Error("mask: template-by-id requires jQuery");if("function"!=typeof e.jQuery.markup)throw new Error("mask: template-by-id requires jQuery Markup");o.template=e.jQuery.markup.render(t)}e.hook("mask:vue-options","none",{id:t,options:o});var u=e.ComponentJS(this).state(),s=e.ComponentJS(this).vue(o,u);return e.hook("mask:vue-result","none",{id:t,mask:s}),s}},{key:"socket",value:function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];if(3===o.length&&"object"===_typeof(o[0])&&"function"==typeof o[1]&&"function"==typeof o[2])o={ctx:o[0],plug:o[1],unplug:o[2]};else{if(1!==o.length||"object"!==_typeof(o[0]))throw new Error("socket: invalid arguments");o=o[0]}return void 0===o.spool&&(o.spool=e.ComponentJS(this).state()),e.ComponentJS(this).socket(o)}},{key:"link",value:function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];if(2===o.length&&"object"===_typeof(o[0])&&"string"==typeof o[1])o={target:o[0],socket:o[1]};else{if(1!==o.length||"object"!==_typeof(o[0]))throw new Error("link: invalid arguments");o=o[0]}return void 0===o.spool&&(o.spool=e.ComponentJS(this).state()),e.ComponentJS(this).link(o)}},{key:"plug",value:function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];if(1!==o.length||"object"!==_typeof(o[0])||void 0===o[0].object)o={object:o[0]};else{if(1!==o.length||"object"!==_typeof(o[0]))throw new Error("plug: invalid arguments");o=o[0]}return void 0===o.spool&&(o.spool=e.ComponentJS(this).state()),e.ComponentJS(this).plug(o)}}]),o}()};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
},{}],4:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();exports.default=function(e){return function(t){_inherits(n,e.Component);function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _createClass(n,[{key:"model",value:function(){var t;return(t=e.ComponentJS(this)).model.apply(t,arguments)}}]),n}()};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
},{}],5:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();exports.default=function(e){return function(t){_inherits(r,e.Component);function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _createClass(r,[{key:"sv",value:function(){return e.ComponentJS(this).property("sv")}}]),r}()};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
},{}],6:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};exports.default=function(o){return function(){o.ComponentJS.plugin("mvc",function(t){t.latch("ComponentJS:comp-created",function(t){var e=t.obj();null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&(e instanceof o.View?t.mark("view"):e instanceof o.Model?t.mark("model"):e instanceof o.Controller&&t.mark("controller"))})})}};
},{}],7:[function(_dereq_,module,exports){
(function (global){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _latching=_dereq_("latching"),_latching2=_interopRequireDefault(_latching),_componentjsMvc0Component=_dereq_("./componentjs-mvc-0-component"),_componentjsMvc0Component2=_interopRequireDefault(_componentjsMvc0Component),_componentjsMvc1View=_dereq_("./componentjs-mvc-1-view"),_componentjsMvc1View2=_interopRequireDefault(_componentjsMvc1View),_componentjsMvc2Model=_dereq_("./componentjs-mvc-2-model"),_componentjsMvc2Model2=_interopRequireDefault(_componentjsMvc2Model),_componentjsMvc3Controller=_dereq_("./componentjs-mvc-3-controller"),_componentjsMvc3Controller2=_interopRequireDefault(_componentjsMvc3Controller),_componentjsMvc4Plugin=_dereq_("./componentjs-mvc-4-plugin"),_componentjsMvc4Plugin2=_interopRequireDefault(_componentjsMvc4Plugin);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var fatal=function(e){return function(){throw new Error(e)}},MVC=new _latching2.default;MVC.ComponentJS=global.ComponentJS||fatal("ComponentJS missing"),MVC.jQuery=global.jQuery,MVC.Component=(0,_componentjsMvc0Component2.default)(MVC),MVC.View=(0,_componentjsMvc1View2.default)(MVC),MVC.Model=(0,_componentjsMvc2Model2.default)(MVC),MVC.Controller=(0,_componentjsMvc3Controller2.default)(MVC),MVC.Plugin=(0,_componentjsMvc4Plugin2.default)(MVC),exports.default=MVC;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./componentjs-mvc-0-component":2,"./componentjs-mvc-1-view":3,"./componentjs-mvc-2-model":4,"./componentjs-mvc-3-controller":5,"./componentjs-mvc-4-plugin":6,"latching":1}]},{},[2,3,4,5,6,7])(7)
});